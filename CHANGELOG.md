# 更新日志

本项目的所有重要变更都将记录在此文件中。

本文件格式基于 [Keep a Changelog](https://keepachangelog.com/en/1.0.0/)。

## [1.0.0] - 2025-09-11

### 新增 (Added)

- **统一的命令行界面 (CLI):** 创建了单个 CLI 入口 (`client.py`)，用于统一管理 Google Docs 和 Google Slides 的所有功能。
- **辅助脚本:** 在 `code/scripts/` 目录下添加了一套 shell 脚本，以简化创建、追加、替换和清空内容等常用操作。
- **协议文档:** 为 Google Slides 工具创建了 `PROTOCOL.md` 文件，用于详细说明生成演示文稿所需的 Markdown 格式协议。
- **项目文档:** 添加了内容详尽的 `README.md` 文件，包含完整的安装说明和使用示例（同时提供中文和英文版本）。
- **更新日志:** 创建了此文件 (`CHANGELOG.md`)，用于跟踪项目的版本和变更历史。
- **增强的幻灯片创建功能:** 新增了通过指定模板 ID 和自定义标题来创建演示文稿的功能。
- **增强的文档创建功能:** 新增了在指定的 Google Drive 文件夹中创建新文档的功能。
- **模板布局兼容:** 在使用模板创建幻灯片时，增加了布局回退机制。当模板中缺少指定的布局（如 `SECTION_HEADER`）时，会自动使用默认布局，避免程序出错。

### 变更 (Changed)

- **项目结构:** 将原先独立的 `google-docs-tool` 和 `google-slider-tool` 两个项目合并到了 `@code/` 目录下的一个统一项目中。
- **代码重构:** 将 Google Docs 工具的代码重构为一个解耦的包结构 (`google_docs`)，每个核心功能（如 `append.py`, `clear.py`, `replace.py` 等）都分离到独立的文件中，以提高代码的可维护性。
- **包结构组织:** 将所有源代码分别组织到 `src/` 目录下的 `google_docs` 和 `google_slider` 包中。
- **可选的文件夹ID:** 修改了创建脚本，使 `folder_id` 参数变为可选。如果未提供，文件将默认创建在 Google Drive 的根目录中。

### 修复 (Fixed)

- **占位符替换:** 修复了一个关键错误，该错误导致替换功能未能正确匹配并替换包含 `{{` 和 `}}` 的完整占位符。
- **脚本执行路径:** 修正了所有 shell 脚本中的相对路径问题，确保它们可以从项目根目录被可靠地执行。
- **参数解析:** 解决了 `client.py` 中的多个参数解析错误，确保所有命令行标志和参数都能被正确处理。

### 移除 (Removed)

- **冗余结构:** 删除了旧的、分离的项目目录和文件。
- **临时测试脚本:** 移除了用于一次性测试的 Python 脚本 (`test_*.py`)，统一使用更灵活的 shell 脚本进行功能调用。